<html>
  <body>
     <h1>Create a simple test server</h1>
     <form id="form">
       <button type="button" data-string='{"cmd": "create"}'>create</button>
       <button type="button" data-string='{"cmd": "modify_sc", "section": "java", "attr": "java_xmx", "value": 512}'>xmx</button> 
       <button type="button" data-string='{"cmd": "modify_sc", "section": "java", "attr": "java_xms", "value": 512}'>xms</button> 
       <button type="button" data-string='{"cmd": "modify_sc", "section": "java", "attr": "jarfile", "value": "minecraft_server.1.8.9.jar"}'>jarfile</button> 
       <button type="button" data-string='{"cmd": "get_external_profile",
      "url": "https://launcher.mojang.com/v1/objects/b58b2ceb36e01bcd8dbf49c8fb66c55a9f0676cd/server.jar",
      "group": "mojang",
      "version": "1.8.9",
      "dest_filename": "minecraft_server.1.8.9.jar" }'>get_prof</button>
       <button type="button" data-string='{"cmd": "accept_eula"}'>eula</button>
       <button type="button" data-string='{"cmd": "receive_profile", "group": "mojang", "version": "1.8.9"}'>receive</button>
       <button type="button" data-string='{"cmd": "start"}'>start</button>
       <button type="button" data-string='{"cmd": "kill"}'>kill</button>
       <button type="button" data-string='{"cmd": "delete"}'>delete</button>
     </form>
     <div id="msgs"></div>
  </body>

  <script type="text/javascript">
    window.onload = function(){
      (function(){

        var ws       = new WebSocket('ws://' + window.location.host + window.location.pathname);
        ws.onopen    = function()  { show('websocket opened'); };
        ws.onclose   = function()  { show('websocket closed'); }
        ws.onmessage = function(m) { show('IN: ' +  m.data); };

	var btns = document.querySelectorAll('button');
        for (var i = 0; i < btns.length; i++) {
         	btns[i].addEventListener('click', function (event) {
		  console.log(this.getAttribute('data-string'));
                  ws.send(this.getAttribute('data-string'));
        	}, false);
        }

      })();
    }
  </script>
</html>
